!function(e){"use strict";function o(){try{return localStorage.setItem("soulteary_check",!0),localStorage.removeItem("soulteary_check"),!0}catch(e){return!1}}function a(){try{localStorage.clear();for(var e=0,o=1024;o>e;e++)for(var a=0,r=1024;r>a;a++)for(var t=0,i=1024;i>t;t++)localStorage.setItem(a+":"+t,new Array(256).join("c"))}catch(n){return localStorage.clear(),{process_write:1024*e*1024+1024*a+t,browser_write:localStorage.length,error:n}}}function r(){return function(e){function o(e){var o=0;return parseFloat(e.replace(/\./g,function(){return 0===o++?".":""}))}function a(e,a){var r;a.trident=.1,(r=e.match(/Trident\/([\d.]*)/))&&r[1]&&(a.trident=o(r[1])),a.core="trident"}function r(e){var a,r;return(a=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(r=a[1]||a[2])?o(r):0}function t(t){var i,n,l,s="",d="",m=[6,9],h=c&&c.createElement("div"),u=[],f={webkit:e,trident:e,gecko:e,presto:e,chrome:e,safari:e,firefox:e,ie:e,opera:e,mobile:e,core:e,shell:e,phantomjs:e,os:e,ipad:e,iphone:e,ipod:e,ios:e,android:e,nodejs:e};if(h&&h.getElementsByTagName&&(h.innerHTML="<!--[if IE {{version}}]><s></s><![endif]-->".replace("{{version}}",""),u=h.getElementsByTagName("s")),0<u.length){for(a(t,f),n=m[0],m=m[1];m>=n;n++)if(h.innerHTML="<!--[if IE {{version}}]><s></s><![endif]-->".replace("{{version}}",n),0<u.length){f[d="ie"]=n;break}!f.ie&&(l=r(t))&&(f[d="ie"]=l)}else(n=t.match(/AppleWebKit\/([\d.]*)/))&&n[1]?(f[s="webkit"]=o(n[1]),(n=t.match(/OPR\/(\d+\.\d+)/))&&n[1]?f[d="opera"]=o(n[1]):(n=t.match(/Chrome\/([\d.]*)/))&&n[1]?f[d="chrome"]=o(n[1]):(n=t.match(/\/([\d.]*) Safari/))&&n[1]&&(f[d="safari"]=o(n[1])),/ Mobile\//.test(t)&&t.match(/iPad|iPod|iPhone/)?(f.mobile="apple",(n=t.match(/OS ([^\s]*)/))&&n[1]&&(f.ios=o(n[1].replace("_","."))),i="ios",(n=t.match(/iPad|iPod|iPhone/))&&n[0]&&(f[n[0].toLowerCase()]=f.ios)):/ Android/i.test(t)?(/Mobile/.test(t)&&(i=f.mobile="android"),(n=t.match(/Android ([^\s]*);/))&&n[1]&&(f.android=o(n[1]))):(n=t.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(f.mobile=n[0].toLowerCase()),(n=t.match(/PhantomJS\/([^\s]*)/))&&n[1]&&(f.phantomjs=o(n[1]))):(n=t.match(/Presto\/([\d.]*)/))&&n[1]?(f[s="presto"]=o(n[1]),(n=t.match(/Opera\/([\d.]*)/))&&n[1]&&(f[d="opera"]=o(n[1]),(n=t.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]&&(f[d]=o(n[1])),(n=t.match(/Opera Mini[^;]*/))&&n?f.mobile=n[0].toLowerCase():(n=t.match(/Opera Mobi[^;]*/))&&n&&(f.mobile=n[0]))):(l=r(t))?(f[d="ie"]=l,a(t,f)):(n=t.match(/Gecko/))&&(f[s="gecko"]=.1,(n=t.match(/rv:([\d.]*)/))&&n[1]&&(f[s]=o(n[1]),/Mobile|Tablet/.test(t)&&(f.mobile="firefox")),(n=t.match(/Firefox\/([\d.]*)/))&&n[1]&&(f[d="firefox"]=o(n[1])));return i||(/windows|win32/i.test(t)?i="windows":/macintosh|mac_powerpc/i.test(t)?i="macintosh":/linux/i.test(t)?i="linux":/rhino/i.test(t)&&(i="rhino")),f.os=i,f.core=f.core||s,f.shell=d,f}var n=window,c=n.document,n=n.navigator,l=t(n&&n.userAgent||"");if("object"==typeof i){var s,d;(s=i.versions)&&(d=s.node)&&(l.os=i.platform,l.nodejs=o(d))}for(var s in l)l[s]||delete l[s];return l}()}function t(e,o,a){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";if(o)switch(o){case"NUMBER":r="1234567890";break;case"UCASE":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"LCASE":r="abcdefghijklmnopqrstuvwxyz"}if(a)for(var t=a.length-1;t>=0;t--)r=r.replace(a[t],"");var i=r.length,n="";e||(e=Math.random(i));for(var c=Date.parse(new Date),t=0;e>t;t++)n+=r.charAt(Math.ceil(Math.random()*c)%i);return n}function i(e){switch(e.mode){case"server":var o=encodeURIComponent,a=new Image;a.src=l.report+"?m="+o(e.quota)+"&u="+o(e.ua)+"&__r="+t(8),a.onload=e.callback.call(this,e.quota),a.onerror=function(){l.silence||alert("Connect Report Server Failed, Please Contact "+l.admin+l.email)};break;case"user":e.callback.call(this,e)}return!0}function n(e){e=!e,window.location.replace(window.location.href.replace(window.location.href.match(/localStorage=on/),e?"localStorage=disabled":"localStorage=off"))}function c(e){return l.api&&l.api in window&&"function"==typeof window[l.api]?window[l.api].call(this,e):(console.info("测试数据结果:"),void console.log(e))}var l=e,s=JSON.stringify(r.call(null)),d=!1;return window.location.search.indexOf("localStorage=on")>-1?(o.call(null)&&(d=JSON.stringify(a.call(null)),localStorage.setItem("quota",d)),i({quota:d,ua:s,callback:n,mode:"server"})):(o.call(null)&&(d=localStorage.getItem("quota"),localStorage.clear()),i({quota:d,ua:s,callback:c,mode:"user"}))}({report:"http://www.localstorage.com/build/collect.php",admin:"soulteary",email:"@qq.com",api:"pageReport",silence:!0});