!function(t){"use strict";var e=t.win,r=t.doc,a=r.getElementsByTagName("body")[0],n=a.getElementsByTagName("*"),u={version:t.ver,key:"data-lang-",tag:"data-lang",rule:{zh:"zh-CN",en:"en-US"},"default":"zh"},i=function(t){var e=r.cookie;return e?t?JSON.parse(e).lang:u.rule[JSON.parse(e).lang]:t?u.default:u.rule[u.default]};e.location.hash="#!/"+i();var l=function(t){if(!t)return!1;try{for(var a in u.rule)if(t===a&&i()!==u.rule[a]){o(a),e.location.hash="#!/"+u.rule[a],r.cookie='{"lang":"'+a+'"}';break}return!0}catch(n){return!1}},o=function(t){var e=u.key+t,r=u.key+(a.hasAttribute(u.tag)?a.getAttribute(u.tag):u.default);if(e===r)return!1;var i=function(t){var a;try{return t.hasAttribute(e)&&(a=t.getAttribute(e),t.setAttribute(r,t.innerHTML),t.innerHTML=a),!0}catch(n){return!1}};try{for(var l=0,o=n.length;o>l;l++)i(n[l]);return a.setAttribute(u.tag,t),!0}catch(c){return!1}};window[t.api]=l,i()!==u.default&&o(i(!0))}({ver:"2014.06.21",win:window,doc:document,api:"lang"});